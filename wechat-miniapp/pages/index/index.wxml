<!-- index.wxml - 首页 -->
<view class="container">
  <!-- 加载提示 -->
  <view class="loading-container" wx:if="{{isLoading}}">
    <loading class="loading">加载中...</loading>
  </view>

  <view class="content" wx:else>
    <!-- 顶部欢迎区域 -->
    <view class="header">
      <view class="user-info">
        <image 
          class="avatar" 
          src="{{userInfo.avatarUrl || '/images/default_avatar.png'}}" 
          mode="aspectFill"
        ></image>
        <view class="user-details">
          <text class="welcome-text">你好，{{userInfo.nickName || '用户'}}</text>
          <text class="sub-text">欢迎使用印绩凭证验证系统</text>
        </view>
      </view>
    </view>

    <!-- 快速入口 -->
    <view class="quick-access">
      <view class="quick-item" bindtap="goToVerify">
        <view class="quick-icon verify">
          <text class="icon-text">✓</text>
        </view>
        <text class="quick-label">验证凭证</text>
      </view>
      <view class="quick-item" bindtap="goToHistory">
        <view class="quick-icon history">
          <text class="icon-text">📋</text>
        </view>
        <text class="quick-label">验证历史</text>
      </view>
    </view>

    <!-- 功能列表 -->
    <view class="feature-section">
      <view class="section-title">
        <text>全部功能</text>
      </view>
      <view class="feature-list">
        <view 
          class="feature-item" 
          wx:for="{{features}}" 
          wx:key="id"
          data-url="{{item.url}}"
          bindtap="onFeatureTap"
        >
          <view class="feature-icon">
            <image src="{{item.icon}}" mode="aspectFit"></image>
          </view>
          <view class="feature-content">
            <text class="feature-title">{{item.title}}</text>
            <text class="feature-desc">{{item.desc}}</text>
          </view>
          <view class="feature-arrow">
            <text class="arrow">></text>
          </view>
        </view>
      </view>
    </view>

    <!-- 推荐信息 -->
    <view class="recommend-section">
      <view class="recommend-card">
        <view class="card-header">
          <text class="card-title">使用提示</text>
        </view>
        <view class="card-content">
          <text class="card-text">1. 请确保在验证凭证时输入正确的验证码</text>
          <text class="card-text">2. 如遇验证问题，请联系系统管理员</text>
          <text class="card-text">3. 定期清理缓存以获得更好的使用体验</text>
        </view>
      </view>
    </view>
  </view>
</view>